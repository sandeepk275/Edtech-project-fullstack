{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandeep\\\\Downloads\\\\edtech-frontend-main\\\\edtech-frontend-main\\\\src\\\\pages\\\\admin\\\\list\\\\ListPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // imports for components from MUI library\n\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\"; // imports for MUI components\n\nimport { MuiPrimarySearchAppBar } from \"../../../components/MUI/MuiPrimarySearchAppBar\"; // imports for custom components\n\nimport { Footer } from \"../../../components/UI/Footer\"; // imports for custom hooks\n\nimport useLoader from \"../../../hooks/useLoader\";\nimport useNotification from \"../../../hooks/useNotification\";\nimport { useHistory, Link } from \"react-router-dom\"; // imports for routes\n\nimport { routeUtils, routeConstants } from \"../../../routes\"; // imports for utils\n\nimport * as utils from \"../../../utils\"; // imports for APIs\n\nimport * as coursesApi from \"../../../api/coursesApi\"; // imports for styles\n\nimport classes from \"./ListPage.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListPage = () => {\n  _s();\n\n  const {\n    loader,\n    isLoading,\n    showLoader,\n    hideLoader\n  } = useLoader();\n  const {\n    notification,\n    showNotification\n  } = useNotification();\n  const history = useHistory();\n  const [coursesList, setCoursesList] = useState([]);\n  const [isPublishedFilterOn, setIsPublishedFilterOn] = useState(false);\n\n  const navigateToEditCoursePage = courseId => {\n    history.push(routeUtils.getEditPageRouteUrl(courseId)); // redirect to course edit page on click of edit icon\n  };\n\n  const handlePublishedFilterChange = event => {\n    setIsPublishedFilterOn(event.target.checked);\n  };\n\n  const getCoursesSuccessCallback = response => {\n    setCoursesList(response.data);\n    hideLoader();\n  };\n\n  const getCoursesFailureCallback = (error, errorMessage) => {\n    // show errors from specific to generic\n    if (errorMessage) {\n      showNotification(errorMessage);\n    } else {\n      showNotification(error.toString());\n    }\n\n    hideLoader();\n  };\n\n  useEffect(() => {\n    showLoader();\n    isPublishedFilterOn ? coursesApi.getAllPublishedCourses(getCoursesSuccessCallback, getCoursesFailureCallback) : coursesApi.getAllCourses(getCoursesSuccessCallback, getCoursesFailureCallback);\n  }, [isPublishedFilterOn]);\n\n  const deleteCourseHandler = courseId => {\n    showLoader();\n    coursesApi.deleteCourse(courseId, // success callback\n    response => {\n      setCoursesList(coursesList.filter(course => course._id !== courseId));\n      showNotification(\"Course deleted successfully!\");\n      hideLoader();\n    }, // failure callback\n    (error, errorMessage) => {\n      // show errors from specific to generic\n      if (errorMessage) {\n        showNotification(errorMessage);\n      } else {\n        showNotification(error.toString());\n      }\n\n      hideLoader();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.listPage,\n    children: [/*#__PURE__*/_jsxDEV(MuiPrimarySearchAppBar, {\n      isProfileVisible: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: classes.listPageContent,\n      children: [/*#__PURE__*/_jsxDEV(\"article\", {\n        className: classes.tableMainActionHeader,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: routeConstants.ROUTE_URL.ADD_COURSE,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), \"Add Course\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Switch, {\n            checked: isPublishedFilterOn,\n            onChange: handlePublishedFilterChange,\n            name: \"publishedCoursesFilter\",\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this),\n          className: classes.publishedFilter,\n          label: \"Published\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classes.loaderContainer,\n        children: loader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(TableContainer, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          \"aria-label\": \"customized table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            className: classes.tableHead,\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Course ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Instructor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: [\"Duration \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 30\n                }, this), \"(in h)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Published\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: [\"Price \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 27\n                }, this), \"(in INR)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: coursesList.map(course => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: course._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: course.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: course.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: course.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: utils.getFormattedTimeInHoursAndMinutes(course.duration)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: course.published ? \"Yes\" : \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: course.priceAfterDiscount ? course.priceAfterDiscount.toFixed(2) : \"--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"edit course\",\n                  \"aria-controls\": \"admin actions\",\n                  \"aria-haspopup\": \"false\",\n                  color: \"inherit\",\n                  onClick: () => navigateToEditCoursePage(course._id),\n                  children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"delete course\",\n                  \"aria-controls\": \"admin actions\",\n                  \"aria-haspopup\": \"false\",\n                  color: \"inherit\",\n                  onClick: () => deleteCourseHandler(course._id),\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)]\n            }, course._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), notification]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListPage, \"fgYne+pTnLnyuG9sqeSGN8ZHjcM=\", false, function () {\n  return [useLoader, useNotification, useHistory];\n});\n\n_c = ListPage;\nexport default ListPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListPage\");","map":{"version":3,"sources":["C:/Users/sandeep/Downloads/edtech-frontend-main/edtech-frontend-main/src/pages/admin/list/ListPage.js"],"names":["React","useState","useEffect","Button","AddIcon","FormControlLabel","Switch","TableContainer","Table","TableHead","TableRow","TableBody","TableCell","IconButton","EditIcon","DeleteIcon","MuiPrimarySearchAppBar","Footer","useLoader","useNotification","useHistory","Link","routeUtils","routeConstants","utils","coursesApi","classes","ListPage","loader","isLoading","showLoader","hideLoader","notification","showNotification","history","coursesList","setCoursesList","isPublishedFilterOn","setIsPublishedFilterOn","navigateToEditCoursePage","courseId","push","getEditPageRouteUrl","handlePublishedFilterChange","event","target","checked","getCoursesSuccessCallback","response","data","getCoursesFailureCallback","error","errorMessage","toString","getAllPublishedCourses","getAllCourses","deleteCourseHandler","deleteCourse","filter","course","_id","listPage","listPageContent","tableMainActionHeader","ROUTE_URL","ADD_COURSE","publishedFilter","loaderContainer","tableHead","map","category","title","author","getFormattedTimeInHoursAndMinutes","duration","published","priceAfterDiscount","toFixed"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n// imports for components from MUI library\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\n// imports for MUI components\nimport { MuiPrimarySearchAppBar } from \"../../../components/MUI/MuiPrimarySearchAppBar\";\n\n// imports for custom components\nimport { Footer } from \"../../../components/UI/Footer\";\n\n// imports for custom hooks\nimport useLoader from \"../../../hooks/useLoader\";\nimport useNotification from \"../../../hooks/useNotification\";\nimport { useHistory, Link } from \"react-router-dom\";\n\n// imports for routes\nimport { routeUtils, routeConstants } from \"../../../routes\";\n\n// imports for utils\nimport * as utils from \"../../../utils\";\n\n// imports for APIs\nimport * as coursesApi from \"../../../api/coursesApi\";\n\n// imports for styles\nimport classes from \"./ListPage.module.css\";\n\nconst ListPage = () => {\n  const { loader, isLoading, showLoader, hideLoader } = useLoader();\n  const { notification, showNotification } = useNotification();\n  const history = useHistory();\n\n  const [coursesList, setCoursesList] = useState([]);\n  const [isPublishedFilterOn, setIsPublishedFilterOn] = useState(false);\n\n  const navigateToEditCoursePage = (courseId) => {\n    history.push(routeUtils.getEditPageRouteUrl(courseId)); // redirect to course edit page on click of edit icon\n  };\n\n  const handlePublishedFilterChange = (event) => {\n    setIsPublishedFilterOn(event.target.checked);\n  };\n\n  const getCoursesSuccessCallback = (response) => {\n    setCoursesList(response.data);\n    hideLoader();\n  };\n\n  const getCoursesFailureCallback = (error, errorMessage) => {\n    // show errors from specific to generic\n    if (errorMessage) {\n      showNotification(errorMessage);\n    } else {\n      showNotification(error.toString());\n    }\n    hideLoader();\n  };\n\n  useEffect(() => {\n    showLoader();\n    isPublishedFilterOn\n      ? coursesApi.getAllPublishedCourses(\n          getCoursesSuccessCallback,\n          getCoursesFailureCallback\n        )\n      : coursesApi.getAllCourses(\n          getCoursesSuccessCallback,\n          getCoursesFailureCallback\n        );\n  }, [isPublishedFilterOn]);\n\n  const deleteCourseHandler = (courseId) => {\n    showLoader();\n    coursesApi.deleteCourse(\n      courseId,\n      // success callback\n      (response) => {\n        setCoursesList(coursesList.filter((course) => course._id !== courseId));\n        showNotification(\"Course deleted successfully!\");\n        hideLoader();\n      },\n      // failure callback\n      (error, errorMessage) => {\n        // show errors from specific to generic\n        if (errorMessage) {\n          showNotification(errorMessage);\n        } else {\n          showNotification(error.toString());\n        }\n        hideLoader();\n      }\n    );\n  };\n\n  return (\n    <div className={classes.listPage}>\n      {/* Header */}\n      <MuiPrimarySearchAppBar isProfileVisible={true} />\n\n      {/* Main Content */}\n      <main className={classes.listPageContent}>\n        {/* Table Main Action Header */}\n        <article className={classes.tableMainActionHeader}>\n          <Link to={routeConstants.ROUTE_URL.ADD_COURSE}>\n            <Button variant=\"contained\" color=\"secondary\">\n              <AddIcon />\n              Add Course\n            </Button>\n          </Link>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={isPublishedFilterOn}\n                onChange={handlePublishedFilterChange}\n                name=\"publishedCoursesFilter\"\n                color=\"secondary\"\n              />\n            }\n            className={classes.publishedFilter}\n            label=\"Published\"\n          />\n        </article>\n\n        {/* Courses in Tabular Format */}\n        {isLoading ? (\n          <section className={classes.loaderContainer}>{loader}</section>\n        ) : (\n          <TableContainer>\n            <Table aria-label=\"customized table\">\n              <TableHead className={classes.tableHead}>\n                <TableRow>\n                  <TableCell>Course ID</TableCell>\n                  <TableCell>Category</TableCell>\n                  <TableCell>Title</TableCell>\n                  <TableCell>Instructor</TableCell>\n                  <TableCell align=\"right\">\n                    Duration <br />\n                    (in h)\n                  </TableCell>\n                  <TableCell>Published</TableCell>\n                  <TableCell align=\"right\">\n                    Price <br />\n                    (in INR)\n                  </TableCell>\n                  <TableCell align=\"center\">Actions</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {coursesList.map((course) => (\n                  <TableRow key={course._id}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {course._id}\n                    </TableCell>\n                    <TableCell>{course.category}</TableCell>\n                    <TableCell>{course.title}</TableCell>\n                    <TableCell>{course.author}</TableCell>\n                    <TableCell align=\"right\">\n                      {utils.getFormattedTimeInHoursAndMinutes(course.duration)}\n                    </TableCell>\n                    <TableCell>{course.published ? \"Yes\" : \"No\"}</TableCell>\n                    <TableCell align=\"right\">\n                      {course.priceAfterDiscount?course.priceAfterDiscount.toFixed(2):\"--\"}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      <IconButton\n                        aria-label=\"edit course\"\n                        aria-controls=\"admin actions\"\n                        aria-haspopup=\"false\"\n                        color=\"inherit\"\n                        onClick={() => navigateToEditCoursePage(course._id)}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        aria-label=\"delete course\"\n                        aria-controls=\"admin actions\"\n                        aria-haspopup=\"false\"\n                        color=\"inherit\"\n                        onClick={() => deleteCourseHandler(course._id)}\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        )}\n        {notification}\n      </main>\n\n      {/* Footer */}\n      <Footer />\n    </div>\n  );\n};\n\nexport default ListPage;\n"]},"metadata":{},"sourceType":"module"}